<div class="widget">
  <ul class="widget-list">
    <ng-container *ngIf="listEvents.length > 0; else noEvents">
      <ng-container *ngIf="slug; else main">
        <li class="widget-item" *ngFor="let item of listEvents">
          <div class="widget-wrap">
            <div class="widget-date bg-line">
              <p class="week">{{ item.date_time | date:'EEE' }}</p>
              <p class="day">{{ item.date_time | date:'dd' }}</p>
              <p class="month">{{ item.date_time | date:'MMMM' }}</p>
            </div>
            <div class="widget-about row">
              <h3 class="widget-heading col-12">{{ item.performance.title | titlecase }}</h3>
              <p class="time col-4">{{ item.time }}</p>
              <a href="{{ item.buy_ticket_link }}" target="_blank" class="col-8" *ngIf="item.buy_ticket_link">
                <div class="btn btn-success float-right">
                  <p class="ticket_p">buy ticket</p>
                </div>
              </a>
            </div>
          </div>
        </li>
      </ng-container>
    </ng-container>
  </ul>
</div>

<ng-template #main>
  <li class="widget-item"
  *ngFor="let item of listEvents; let i=index"
  [routerLink]="[ '/performance', item.performance.slug ]">
    <div class="widget-wrap hover bg-news-code pdr40px" *ngIf="i < 5">
      <div class="widget-date bg-line mrg10px">
        <p class="week">{{ item.date_time | date:'EEE' }}</p>
        <p class="day">{{ item.date_time | date:'dd' }}</p>
        <p class="month">{{ item.date_time | date:'MMMM' }}</p>
      </div>
      <div class="widget-about">
        <h3 class="widget-heading">{{ item.performance.title | titlecase }}</h3>
        <p class="type">{{ item.performance.type }}</p>
      </div>
    </div>
  </li>
</ng-template>

<ng-template #noEvents>
  <li class="widget-item bg-news-code pdr40px flex">
    <div class="widget-wrap flex-center">
      <div class="widget-about">
        <h3 class="widget-heading no-events-wrap" i18n="@@noPerformances">No performances for now</h3>
      </div>
    </div>
  </li>
</ng-template>
